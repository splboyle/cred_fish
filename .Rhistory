scale_y_continuous(expand = c(0,0), limits = c(0,500))
p.grp <- ggplot(subset(m_all.groups, method == "nSPC"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
ggsave(p.grp, file.path = "graphs_tables/alllfish_facet.png", device = "png", width = 5, height = 3)
ggsave(p.grp, file = "graphs_tables/alllfish_facet.png", device = "png", width = 5, height = 3)
ggsave(p.grp, file = "graphs_tables/StackedConsumerGroup_AllIslands.png", device = "png")
ggplot(subset(m_all.groups, method == "BLT"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
ggplot(subset(m_all.groups, method == "BLT"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
scale_x_continuous(limits = c(2000,2016), breaks = 4)
ggplot(subset(m_all.groups, method == "nSPC"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
ggplot(subset(m_all.groups, method == "BLT"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
scale_x_continuous(limits = c(2000,2016))
ggplot(subset(m_all.groups, method == "BLT"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
scale_x_continuous(limits = c(2000,2008))
ggplot(subset(m_all.groups, method == "BLT"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
scale_x_continuous(limits = c(2001,2007))
ggplot(subset(m_all.groups, method == "nSPC"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
for (i in unique(m_all.groups$island)) {
c <- subset(m_all.groups, island == i & method == "nSPC")
c.p <- ggplot(c, aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", fill = "darkred", size = .3, aes(fill = group)) +
facet_grid(~group) +
geom_errorbar(aes(ymax = mean + se, ymin=mean - se), width = 0.25, size = .3) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m-2)") +
ggtitle(paste("FISH BIOMASS BY CONSUMER GROUP\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1))
print(c.p)
}
for (i in unique(m_all.groups$island)) {
c <- subset(m_all.groups, island == i & method == "nSPC")
c.p <- ggplot(c, aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", size = .3, aes(fill = group)) +
facet_grid(~group) +
geom_errorbar(aes(ymax = mean + se, ymin=mean - se), width = 0.25, size = .3) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m-2)") +
ggtitle(paste("FISH BIOMASS BY CONSUMER GROUP\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1))
print(c.p)
}
for (i in unique(m_all.groups$island)) {
c <- subset(m_all.groups, island == i & method == "nSPC")
c.p <- ggplot(c, aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", size = .3, aes(fill = group)) +
geom_errorbar(aes(ymax = mean + se, ymin=mean - se), width = 0.25, size = .3) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m-2)") +
ggtitle(paste("FISH BIOMASS BY CONSUMER GROUP\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1))
print(c.p)
}
for (i in unique(m_all.groups$island)) {
c <- subset(m_all.groups, island == i & method == "nSPC")
c.p <- ggplot(c, aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", size = .3, aes(fill = group)) +
facet_grid(~group) +
geom_errorbar(aes(ymax = mean + se, ymin=mean - se), width = 0.25, size = .3) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m-2)") +
ggtitle(paste("FISH BIOMASS BY CONSUMER GROUP\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1))
print(c.p)
}
for (i in unique(m_all.groups$island)) {
c <- subset(m_all.groups, island == i & method == "nSPC")
c.p <- ggplot(c, aes(x = year, y = mean)) +
geom_bar(stat = "identity", col = "black", aes(fill = group), size = .3) +
facet_grid(~group) +
geom_errorbar(aes(ymax = mean + se, ymin=mean - se), width = 0.25, size = .3) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m-2)") +
ggtitle(paste("FISH BIOMASS BY CONSUMER GROUP\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1))
print(c.p)
ggsave(c.p, filename=paste("ConsumerGroup",i,".png",sep=""), path = "graphs_tables", width = 5, height = 3)
}
for (i in unique(m_all.groups$island)) {
c <- subset(m_all.groups, island == i & method == "nSPC")
c.p <- ggplot(c, aes(x = year, y = mean)) +
geom_bar(stat = "identity", col = "black", aes(fill = group), size = .3) +
facet_grid(~group) +
geom_errorbar(aes(ymax = mean + se, ymin=mean - se), width = 0.25, size = .3) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m-2)") +
ggtitle(paste("FISH BIOMASS BY CONSUMER GROUP\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1))
print(c.p)
ggsave(c.p, filename=paste("ConsumerGroup",i,".png",sep=""), path = "graphs_tables")
}
ggplot(subset(m_all.groups, method == "nSPC"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
for (i in unique(m_all.groups$island)) {
c <- subset(m_all.groups, island == i & method == "nSPC")
c.p <- ggplot(c, aes(x = year, y = mean)) +
geom_bar(stat = "identity", col = "black", aes(fill = group), size = .3) +
facet_grid(~group) +
geom_errorbar(aes(ymax = mean + se, ymin=mean - se), width = 0.25, size = .3) +
theme_bw() +
theme(axis.title.x = element_blank()) +
theme(legend.position="none") +
xlab("Year") +
ylab("Fish biomass (g/m-2)") +
ggtitle(paste("FISH BIOMASS BY CONSUMER GROUP\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1))
print(c.p)
ggsave(c.p, filename=paste("ConsumerGroup",i,".png",sep=""), path = "graphs_tables")
}
ggplot(subset(mp_all, method == "nSPC"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", col = "black", fill = "springgreen4", size = .3) +
geom_errorbar(aes(ymax = mean + se, ymin=mean - se), width = 0.25, size = .3) +
facet_grid(~island) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1))
ggplot(subset(m_all.groups, method == "BLT"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
scale_x_continuous(limits = c(2001,2007))
?gsub
ggplot(subset(m_all.groups, method == "BLT"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
scale_x_continuous(limits = c(2001,2007))
ggplot(subset(m_all.groups, method == "nSPC"), aes(x = year, y = mean)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
View(wsd)
View(mp_all)
View(prim_fish)
setwd("/Users/ShanBam/GitHub/fish_cred")
load("data/TMPwsd.Rdata")
prim_fish <- read.csv("data/PRIA_CONSUMER_FAMILY.csv")
library(ggplot2)
library(plyr)
st.err <- function(x, na.rm=FALSE) {
if(na.rm==TRUE) x <- na.omit(x)
sd(x)/sqrt(length(x))
}
load("data/TMPspecies.Rdata")
View(species_table)
write.csv(wsd, "data/working_data/wsd.csv")
colnames(wsd)
wsd_rmMABI <- read.csv("~/GitHub/cred_fish/data/wsd_rmMABI.csv")
View(wsd_rmMABI)
View(prim_fish)
m_tot <- aggregate(TotFish~OBS_YEAR+METHOD+ISLAND, data = subset(wsd_rmMABI, REEF_ZONE == "Forereef"), FUN = function(x){c(Mean = mean(x), SE = st.err(x))})
View(m_tot)
m_tot
?do.call
tot <- do.call(as.data.frame, m_tot)
tot <- do.call("as.data.frame", m_tot)
tot <- do.call(data.frame, m_tot)
View(tot)
wsd$NoMABI <- (wsd$PLANKTIVORE - wsd$MABI)
m_tot <- aggregate(TotFish~OBS_YEAR+METHOD+ISLAND, data = subset(wsd, REEF_ZONE == "Forereef"), FUN = function(x){c(Mean = mean(x), SE = st.err(x))})
tot <- do.call(data.frame, m_tot)
m_tot <- aggregate(TotFish~OBS_YEAR+ISLAND, data = subset(wsd, REEF_ZONE == "Forereef"), FUN = function(x){c(Mean = mean(x), SE = st.err(x))})
tot <- do.call(data.frame, m_tot)
colnames(tot) <- c("year", "island", "biomass", "SE")
View(tot)
colnames(wsd)
m_pisc <- aggregate(PISCIVORE~OBS_YEAR+ISLAND, data = subset(wsd, REEF_ZONE == "Forereef"), FUN = function(x){c(Mean = mean(x), SE = st.err(x))})
pisc <- do.call(data.frame, m_pisc)
colnames(pisc) <- c("year", "island", "biomass", "SE")
m_plank <- aggregate(PLANKTIVORE~OBS_YEAR+ISLAND, data = subset(wsd, REEF_ZONE == "Forereef"), FUN = function(x){c(Mean = mean(x), SE = st.err(x))})
plank <- do.call(data.frame, m_plank)
colnames(plank) <- c("year", "island", "biomass", "SE")
m_prim <- aggregate(PRIMARY~OBS_YEAR+ISLAND, data = subset(wsd, REEF_ZONE == "Forereef"), FUN = function(x){c(Mean = mean(x), SE = st.err(x))})
prim <- do.call(data.frame, m_prim)
colnames(prim) <- c("year", "island", "biomass", "SE")
m_sec <- aggregate(SECONDARY~OBS_YEAR+ISLAND, data = subset(wsd, REEF_ZONE == "Forereef"), FUN = function(x){c(Mean = mean(x), SE = st.err(x))})
sec <- do.call(data.frame, m_sec)
colnames(sec) <- c("year", "island", "biomass", "SE")
View(prim)
plank$group <- c("Planktivores")
prim$group <- c("Prim. cons.")
sec$group <- c("Sec. cons.")
pisc$group <- c("Piscivores")
all.groups <- rbind(m_prim, m_sec, m_plank, m_pisc)
all.groups <- rbind(prim, sec, plank, pisc)
View(all.groups)
for (i in unique(all.groups$island)){
d <- subset(all.groups, island == i & method == "nSPC")
p <- ggplot(d, aes(year, biomass)) +
geom_bar(stat = "identity", col = "black", fill = "springgreen4", size = .25) +
geom_errorbar(aes(ymax = biomass + se, ymin=biomass - se), width = 0.25, size = .25) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m2)") +
ggtitle(paste("ALL FISH\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
print(p)
}
for (i in unique(all.groups$island)){
d <- subset(all.groups, island == i)
p <- ggplot(d, aes(year, biomass)) +
geom_bar(stat = "identity", col = "black", fill = "springgreen4", size = .25) +
geom_errorbar(aes(ymax = biomass + se, ymin=biomass - se), width = 0.25, size = .25) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m2)") +
ggtitle(paste("ALL FISH\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
print(p)
}
for (i in unique(all.groups$island)){
d <- subset(all.groups, island == i)
p <- ggplot(d, aes(year, biomass)) +
geom_bar(stat = "identity", col = "black", fill = "springgreen4", size = .25) +
geom_errorbar(aes(ymax = biomass + SE, ymin=biomass - SE), width = 0.25, size = .25) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m2)") +
ggtitle(paste("ALL FISH\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
print(p)
}
for (i in unique(tot$island)){
d <- subset(tot, island == i)
p <- ggplot(d, aes(year, biomass)) +
geom_bar(stat = "identity", col = "black", fill = "springgreen4", size = .25) +
geom_errorbar(aes(ymax = biomass + SE, ymin=biomass - SE), width = 0.25, size = .25) +
theme_bw() +
xlab("Year") +
ylab("Fish biomass (g/m2)") +
ggtitle(paste("ALL FISH\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
print(p)
}
for (i in unique(all.groups$island)) {
c <- subset(all.groups, island == i)
c.p <- ggplot(c, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", col = "black", aes(fill = group), size = .3) +
facet_grid(~group) +
geom_errorbar(aes(ymax = biomass + SE, ymin=biomass - SE), width = 0.25, size = .3) +
theme_bw() +
theme(axis.title.x = element_blank()) +
theme(legend.position="none") +
xlab("Year") +
ylab("Fish biomass (g/m-2)") +
ggtitle(paste("FISH BIOMASS BY CONSUMER GROUP\n", i)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=45, hjust=1))
print(c.p)
#ggsave(c.p, filename=paste("ConsumerGroup",i,".png",sep=""), path = "graphs_tables")
}
ggplot(all.groups, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
##FF0000
"#FF0000"
ggplot(all.groups, aes(x = year, y = biomass, fill = group)) +
geom_bar(stat = "identity", position = "stack", col = "black", size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
ggplot(all.groups, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab("Fish biomass (g/m2)") +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
ggplot(all.groups, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab(expression(paste("Fish biomass (g ", m^-2,")"))) +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
cc <- c("FF0000", "#00A080", "#F2AD00", "#5BBCD6")
ggplot(all.groups, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab(expression(paste("Fish biomass (g ", m^-2,")"))) +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
scale_fill_manual(values = cc)
cc <- c("046C9A", "#00A080", "#F2AD00", "#5BBCD6")
ggplot(all.groups, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab(expression(paste("Fish biomass (g ", m^-2,")"))) +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
scale_fill_manual(values = cc)
install.packages(ggtheme)
library(
"ggthemes"
)
install.packages("ggthemes")
library(ggthemes)
limits <- (tot, aes(ymax = biomass+SE, ymin = biomass-SE))
limits <- (data = tot, aes(ymax = biomass+SE, ymin = biomass-SE))
ggplot(all.groups, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab(expression(paste("Fish biomass (g ", m^-2,")"))) +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500)) +
ggplot(all.groups, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab(expression(paste("Fish biomass (g ", m^-2,")"))) +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
limits <- aes(ymax = tot$biomass + tot$SE, ymin = tot$biomass - tot$SE)
ggplot(all.groups, aes(x = year, y = biomass)) +
geom_bar(stat = "identity", position = "stack", col = "black", aes(fill = group), size = .3) +
geom_errorbar(limits, width = 0.25) +
facet_grid(~island) +
theme_bw() +
theme(axis.title.x = element_blank()) +
ylab(expression(paste("Fish biomass (g ", m^-2,")"))) +
ggtitle("ALL FISH") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.text.x=element_text(angle=45, hjust=1)) +
theme(legend.position = "bottom") +
theme(legend.title=element_blank()) +
scale_y_continuous(expand = c(0,0), limits = c(0,500))
unique(wsd$OBS_YEAR)
